# è‡ªä¸»æ¨è¿›ä»»åŠ¡æœºåˆ¶ä¼˜åŒ–æ–¹æ¡ˆ

**æ—¥æœŸ**: 2026-02-19  
**ä½œè€…**: AI  
**çŠ¶æ€**: âœ… è®¾è®¡å®Œæˆ

## é—®é¢˜èƒŒæ™¯

å½“å‰çš„è‡ªä¸»æ¨è¿›ä»»åŠ¡æœºåˆ¶ä¸»è¦ä¾èµ– heartbeat æ¥è§¦å‘ï¼Œå­˜åœ¨ä»¥ä¸‹å±€é™æ€§ï¼š

1. **ä¾èµ– heartbeat é—´éš”**ï¼šå¦‚æœ heartbeat é—´éš”å¤ªé•¿ï¼Œå¯èƒ½ä¼šé”™è¿‡éœ€è¦åŠæ—¶æ¨è¿›çš„ä»»åŠ¡
2. **ç”¨æˆ·å¹²é¢„åç­‰å¾…**ï¼šç”¨æˆ·å¹²é¢„åéœ€è¦ç­‰å¾…ä¸‹ä¸€æ¬¡ heartbeat æ‰èƒ½ç»§ç»­æ¨è¿›ä»»åŠ¡
3. **ä»»åŠ¡æ‰§è¡Œé™åˆ¶**ï¼šä¸¤æ¬¡ç”¨æˆ·å¹²é¢„æœŸé—´åªèƒ½æ‰§è¡Œæœ‰é™æ•°é‡çš„ä»»åŠ¡
4. **ç¼ºä¹ä¸»åŠ¨æ„ŸçŸ¥**ï¼šæ— æ³•ä¸»åŠ¨æ„ŸçŸ¥ç”¨æˆ·çš„æ„å›¾å’Œä»»åŠ¡çŠ¶æ€

## ä¼˜åŒ–ç›®æ ‡

ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œä¼˜åŒ–ï¼š

1. **ç»“åˆå½“å‰ heartbeat æœºåˆ¶æœ¬èº«æ€ä¹ˆä¼˜åŒ–**
2. **è·³å‡ºè¿™ä¸ªå±€é™æ€§ï¼Œæ€è€ƒæ€ä¹ˆå»ä¼˜åŒ–**

---

## æ–¹æ¡ˆä¸€ï¼šHeartbeat æœºåˆ¶æœ¬èº«çš„ä¼˜åŒ–

### 1.1 åŠ¨æ€è°ƒæ•´ Heartbeat é—´éš”

**å½“å‰é—®é¢˜**ï¼šå›ºå®šçš„ 30 åˆ†é’Ÿé—´éš”ï¼Œä¸å¤Ÿçµæ´»

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
- **ä»»åŠ¡å¯†é›†æ—¶**ï¼šç¼©çŸ­ heartbeat é—´éš”ï¼ˆå¦‚ 10 åˆ†é’Ÿï¼‰
- **ä»»åŠ¡ç¨€ç–æ—¶**ï¼šå»¶é•¿ heartbeat é—´éš”ï¼ˆå¦‚ 60 åˆ†é’Ÿï¼‰
- **ç”¨æˆ·æ´»è·ƒæ—¶**ï¼šç¼©çŸ­ heartbeat é—´éš”ï¼ˆå¦‚ 5 åˆ†é’Ÿï¼‰
- **ç”¨æˆ·ä¼‘æ¯æ—¶**ï¼šå»¶é•¿ heartbeat é—´éš”ï¼ˆå¦‚ 120 åˆ†é’Ÿï¼‰

**å®ç°æ–¹å¼**ï¼š
```python
# åŠ¨æ€ heartbeat é—´éš”ç®—æ³•
def calculate_heartbeat_interval():
    # å› ç´  1: å¾…æ‰§è¡Œä»»åŠ¡æ•°é‡
    pending_tasks = get_pending_ai_tasks()
    task_factor = max(5, 30 - len(pending_tasks) * 2)
    
    # å› ç´  2: ç”¨æˆ·æ´»è·ƒç¨‹åº¦
    user_activity = get_user_activity_level()
    activity_factor = 5 if user_activity == "high" else 30
    
    # å› ç´  3: æ—¶é—´å› ç´ ï¼ˆå·¥ä½œæ—¥/å‘¨æœ«ï¼Œç™½å¤©/å¤œæ™šï¼‰
    time_factor = get_time_based_factor()
    
    # ç»¼åˆè®¡ç®—
    interval = min(task_factor, activity_factor, time_factor)
    return max(5, min(interval, 120))  # 5-120 åˆ†é’Ÿ
```

### 1.2 å¢åŠ ä»»åŠ¡æ‰§è¡Œæ•°é‡é™åˆ¶

**å½“å‰é—®é¢˜**ï¼š`MAX_TASKS_BETWEEN_INTERVENTIONS = 2`ï¼Œé™åˆ¶å¤ªä¸¥æ ¼

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
- **é»˜è®¤å€¼**ï¼šä» 2 æé«˜åˆ° 8ï¼ˆå¦‚ HEARTBEAT.md ä¸­å·²ç»é…ç½®çš„ï¼‰
- **åŠ¨æ€è°ƒæ•´**ï¼š
  - ç®€å•ä»»åŠ¡ï¼šå¯ä»¥æ‰§è¡Œæ›´å¤šï¼ˆå¦‚ 10 ä¸ªï¼‰
  - å¤æ‚ä»»åŠ¡ï¼šæ‰§è¡Œæ›´å°‘ï¼ˆå¦‚ 3 ä¸ªï¼‰
  - ç”¨æˆ·ä¿¡ä»»åº¦é«˜ï¼šå¯ä»¥æ‰§è¡Œæ›´å¤š
- **ç”¨æˆ·å¯é…ç½®**ï¼šè®©ç”¨æˆ·å¯ä»¥è‡ªå·±è°ƒæ•´è¿™ä¸ªå‚æ•°

**å®ç°æ–¹å¼**ï¼š
```python
# åŠ¨æ€ä»»åŠ¡æ•°é‡é™åˆ¶
def calculate_max_tasks():
    # åŸºç¡€å€¼
    base_max = 8
    
    # å› ç´  1: ä»»åŠ¡å¤æ‚åº¦
    simple_tasks = count_simple_tasks()
    complex_tasks = count_complex_tasks()
    complexity_factor = 1.5 if simple_tasks > complex_tasks else 0.7
    
    # å› ç´  2: ç”¨æˆ·ä¿¡ä»»åº¦
    trust_factor = get_user_trust_level()  # 0.5-2.0
    
    # ç»¼åˆè®¡ç®—
    max_tasks = int(base_max * complexity_factor * trust_factor)
    return max(3, min(max_tasks, 20))  # 3-20 ä¸ªä»»åŠ¡
```

### 1.3 å¢å¼ºä»»åŠ¡ä¼˜å…ˆçº§ç­–ç•¥

**å½“å‰é—®é¢˜**ï¼šç®€å•çš„ä¼˜å…ˆçº§ï¼ˆHigh/Medium/Lowï¼‰ï¼Œä¸å¤Ÿç²¾ç»†

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
- **å¤šç»´åº¦ä¼˜å…ˆçº§**ï¼š
  - ç´§æ€¥åº¦ï¼ˆUrgencyï¼‰ï¼šæ˜¯å¦éœ€è¦ç«‹å³æ‰§è¡Œ
  - é‡è¦æ€§ï¼ˆImportanceï¼‰ï¼šå¯¹æ•´ä½“ç›®æ ‡çš„å½±å“
  - ä¾èµ–å…³ç³»ï¼ˆDependenciesï¼‰ï¼šæ˜¯å¦è¢«å…¶ä»–ä»»åŠ¡ä¾èµ–
  - ç”¨æˆ·åå¥½ï¼ˆUser Preferenceï¼‰ï¼šç”¨æˆ·çš„å†å²åå¥½
- **ä¼˜å…ˆçº§è®¡ç®—å…¬å¼**ï¼š
  ```
  ç»¼åˆä¼˜å…ˆçº§ = ç´§æ€¥åº¦ * 0.4 + é‡è¦æ€§ * 0.3 + ä¾èµ–å…³ç³» * 0.2 + ç”¨æˆ·åå¥½ * 0.1
  ```

**å®ç°æ–¹å¼**ï¼š
```python
# å¤šç»´åº¦ä¼˜å…ˆçº§è®¡ç®—
def calculate_composite_priority(task):
    urgency = task.get('urgency', 0.5)  # 0-1
    importance = task.get('importance', 0.5)  # 0-1
    dependencies = task.get('dependencies', 0)  # 0-1
    user_preference = get_user_preference(task)  # 0-1
    
    composite = (
        urgency * 0.4 +
        importance * 0.3 +
        dependencies * 0.2 +
        user_preference * 0.1
    )
    
    return composite
```

### 1.4 å¢åŠ ä»»åŠ¡æ‰§è¡Œåé¦ˆæœºåˆ¶

**å½“å‰é—®é¢˜**ï¼šä»»åŠ¡æ‰§è¡Œåæ²¡æœ‰åŠæ—¶åé¦ˆç»™ç”¨æˆ·

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
- **å®æ—¶åé¦ˆ**ï¼šä»»åŠ¡å¼€å§‹æ‰§è¡Œæ—¶é€šçŸ¥ç”¨æˆ·
- **è¿›åº¦æ›´æ–°**ï¼šä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å®šæœŸæ›´æ–°è¿›åº¦
- **å®Œæˆé€šçŸ¥**ï¼šä»»åŠ¡å®Œæˆæ—¶ç«‹å³é€šçŸ¥ç”¨æˆ·
- **å¤±è´¥å¤„ç†**ï¼šä»»åŠ¡å¤±è´¥æ—¶åŠæ—¶é€šçŸ¥ç”¨æˆ·å¹¶æä¾›å¤±è´¥åŸå› 

**å®ç°æ–¹å¼**ï¼š
```python
# ä»»åŠ¡æ‰§è¡Œåé¦ˆæœºåˆ¶
class TaskExecutorWithFeedback:
    def execute_task(self, task):
        # 1. ä»»åŠ¡å¼€å§‹é€šçŸ¥
        self.notify_task_started(task)
        
        try:
            # 2. æ‰§è¡Œä»»åŠ¡
            result = self._execute(task)
            
            # 3. å®šæœŸæ›´æ–°è¿›åº¦
            self.update_progress(task, progress=50)
            
            # 4. ä»»åŠ¡å®Œæˆé€šçŸ¥
            self.notify_task_completed(task, result)
            
            return result
        except Exception as e:
            # 5. ä»»åŠ¡å¤±è´¥é€šçŸ¥
            self.notify_task_failed(task, str(e))
            raise
```

---

## æ–¹æ¡ˆäºŒï¼šè·³å‡º Heartbeat å±€é™æ€§çš„ä¼˜åŒ–

### 2.1 ç”¨æˆ·å¹²é¢„åç«‹å³æ¨è¿›ä»»åŠ¡

**æ ¸å¿ƒæ€è·¯**ï¼šç”¨æˆ·å¹²é¢„åä¸éœ€è¦ç­‰å¾… heartbeatï¼Œç«‹å³å¼€å§‹æ¨è¿›ä»»åŠ¡

**å®ç°æ–¹å¼**ï¼š
- **æ£€æµ‹ç”¨æˆ·æ¶ˆæ¯**ï¼šæ¯æ¬¡æ”¶åˆ°ç”¨æˆ·æ¶ˆæ¯åï¼Œç«‹å³è§¦å‘ä»»åŠ¡æ¨è¿›
- **é‡ç½®è®¡æ•°**ï¼šç”¨æˆ·å¹²é¢„åé‡ç½®ä»»åŠ¡æ‰§è¡Œè®¡æ•°
- **ç«‹å³æ‰§è¡Œ**ï¼šç«‹å³å¼€å§‹æ‰§è¡Œæ–°çš„ä»»åŠ¡

**å·¥ä½œæµç¨‹**ï¼š
```
ç”¨æˆ·å‘é€æ¶ˆæ¯ â†’ AI å›å¤ â†’ ç«‹å³è§¦å‘ä»»åŠ¡æ¨è¿› â†’ æ‰§è¡Œä»»åŠ¡ â†’ ç”¨æˆ·å†æ¬¡å¹²é¢„ â†’ é‡ç½®è®¡æ•° â†’ ç»§ç»­æ‰§è¡Œ
```

**å®ç°ä»£ç **ï¼š
```python
# ç”¨æˆ·å¹²é¢„åç«‹å³æ¨è¿›ä»»åŠ¡
class UserInterventionHandler:
    def __init__(self):
        self.tasks_executed_since_intervention = 0
        self.last_intervention_time = datetime.now()
    
    def on_user_intervention(self):
        """ç”¨æˆ·å¹²é¢„æ—¶è§¦å‘"""
        self.tasks_executed_since_intervention = 0
        self.last_intervention_time = datetime.now()
        
        # ç«‹å³å¼€å§‹æ¨è¿›ä»»åŠ¡
        self._push_tasks_immediately()
    
    def _push_tasks_immediately(self):
        """ç«‹å³æ¨è¿›ä»»åŠ¡"""
        max_tasks = calculate_max_tasks()
        
        while self.tasks_executed_since_intervention < max_tasks:
            task = self._get_next_task()
            if not task:
                break
            
            self._execute_task(task)
            self.tasks_executed_since_intervention += 1
```

### 2.2 äº‹ä»¶é©±åŠ¨çš„ä»»åŠ¡æ¨è¿›

**æ ¸å¿ƒæ€è·¯**ï¼šä¸ä¾èµ– heartbeatï¼Œè€Œæ˜¯åŸºäºäº‹ä»¶æ¥è§¦å‘ä»»åŠ¡æ¨è¿›

**è§¦å‘äº‹ä»¶**ï¼š
- **ç”¨æˆ·æ¶ˆæ¯äº‹ä»¶**ï¼šç”¨æˆ·å‘é€æ¶ˆæ¯å
- **Git äº‹ä»¶**ï¼šGit ä»“åº“æœ‰æ›´æ–°æ—¶
- **æ—¶é—´äº‹ä»¶**ï¼šç‰¹å®šæ—¶é—´ç‚¹ï¼ˆå¦‚æ¯å¤©æ—©ä¸Š 9 ç‚¹ï¼‰
- **å¤–éƒ¨äº‹ä»¶**ï¼šRSS æ›´æ–°ã€API å›è°ƒç­‰

**å®ç°æ–¹å¼**ï¼š
```python
# äº‹ä»¶é©±åŠ¨çš„ä»»åŠ¡æ¨è¿›
class EventDrivenTaskPusher:
    def __init__(self):
        self.event_handlers = {}
    
    def register_event(self, event_type, handler):
        """æ³¨å†Œäº‹ä»¶å¤„ç†å™¨"""
        if event_type not in self.event_handlers:
            self.event_handlers[event_type] = []
        self.event_handlers[event_type].append(handler)
    
    def on_event(self, event_type, event_data):
        """äº‹ä»¶è§¦å‘æ—¶"""
        if event_type in self.event_handlers:
            for handler in self.event_handlers[event_type]:
                handler(event_data)
    
    # ç¤ºä¾‹ï¼šç”¨æˆ·æ¶ˆæ¯äº‹ä»¶
    def on_user_message(self, message):
        self.on_event('user_message', {'message': message})
        self._push_tasks()
    
    # ç¤ºä¾‹ï¼šGit æ›´æ–°äº‹ä»¶
    def on_git_update(self, commit):
        self.on_event('git_update', {'commit': commit})
        self._push_tasks()
```

### 2.3 æ™ºèƒ½ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†

**æ ¸å¿ƒæ€è·¯**ï¼šå»ºç«‹ä¸€ä¸ªæ™ºèƒ½çš„ä»»åŠ¡é˜Ÿåˆ—ï¼Œè‡ªåŠ¨ç®¡ç†ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºå’Œå¹¶å‘

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- **ä»»åŠ¡ä¼˜å…ˆçº§æ’åº**ï¼šè‡ªåŠ¨æŒ‰ä¼˜å…ˆçº§æ’åºä»»åŠ¡
- **ä¾èµ–å…³ç³»ç®¡ç†**ï¼šå¤„ç†ä»»åŠ¡ä¹‹é—´çš„ä¾èµ–å…³ç³»
- **å¹¶å‘æ§åˆ¶**ï¼šæ§åˆ¶åŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡
- **å¤±è´¥é‡è¯•**ï¼šè‡ªåŠ¨é‡è¯•å¤±è´¥çš„ä»»åŠ¡
- **ä»»åŠ¡è°ƒåº¦**ï¼šåŸºäºæ—¶é—´å’Œèµ„æºçš„æ™ºèƒ½è°ƒåº¦

**å®ç°æ–¹å¼**ï¼š
```python
# æ™ºèƒ½ä»»åŠ¡é˜Ÿåˆ—
class IntelligentTaskQueue:
    def __init__(self):
        self.tasks = []
        self.executing = []
        self.completed = []
        self.failed = []
    
    def add_task(self, task):
        """æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—"""
        self.tasks.append(task)
        self._sort_tasks()
    
    def _sort_tasks(self):
        """æŒ‰ä¼˜å…ˆçº§æ’åºä»»åŠ¡"""
        self.tasks.sort(
            key=lambda t: calculate_composite_priority(t),
            reverse=True
        )
    
    def get_next_task(self):
        """è·å–ä¸‹ä¸€ä¸ªè¦æ‰§è¡Œçš„ä»»åŠ¡"""
        # æ£€æŸ¥ä¾èµ–å…³ç³»
        for task in self.tasks:
            if self._dependencies_met(task):
                return task
        return None
    
    def execute_task(self, task):
        """æ‰§è¡Œä»»åŠ¡"""
        self.tasks.remove(task)
        self.executing.append(task)
        
        try:
            result = self._execute(task)
            self.executing.remove(task)
            self.completed.append((task, result))
            return result
        except Exception as e:
            self.executing.remove(task)
            self.failed.append((task, str(e)))
            # è‡ªåŠ¨é‡è¯•
            if task.get('retry_count', 0) < 3:
                task['retry_count'] = task.get('retry_count', 0) + 1
                self.tasks.append(task)
                self._sort_tasks()
```

### 2.4 é—­ç¯è‡ªæˆ‘è¿­ä»£æœºåˆ¶

**æ ¸å¿ƒæ€è·¯**ï¼šåœ¨æ‰§è¡Œä»»åŠ¡è¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨å‘ç°æ–°ä»»åŠ¡å¹¶æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œå½¢æˆé—­ç¯

**å·¥ä½œæµç¨‹**ï¼š
```
æ‰§è¡Œä»»åŠ¡ â†’ å‘ç°æ–°ä»»åŠ¡ â†’ æ·»åŠ åˆ°é˜Ÿåˆ— â†’ ç»§ç»­æ‰§è¡Œ â†’ å‘ç°æ›´å¤šä»»åŠ¡ â†’ ...
```

**å®ç°æ–¹å¼**ï¼š
```python
# é—­ç¯è‡ªæˆ‘è¿­ä»£
class ClosedLoopSelfIteration:
    def __init__(self, task_queue):
        self.task_queue = task_queue
        self.discovered_tasks = []
    
    def execute_task_with_discovery(self, task):
        """æ‰§è¡Œä»»åŠ¡å¹¶å‘ç°æ–°ä»»åŠ¡"""
        # 1. æ‰§è¡Œä»»åŠ¡
        result = self._execute_task(task)
        
        # 2. å‘ç°æ–°ä»»åŠ¡
        new_tasks = self._discover_new_tasks(task, result)
        
        # 3. æ·»åŠ æ–°ä»»åŠ¡åˆ°é˜Ÿåˆ—
        for new_task in new_tasks:
            self.task_queue.add_task(new_task)
            self.discovered_tasks.append(new_task)
        
        return result
    
    def _discover_new_tasks(self, task, result):
        """ä»æ‰§è¡Œç»“æœä¸­å‘ç°æ–°ä»»åŠ¡"""
        new_tasks = []
        
        # ç¤ºä¾‹ï¼šå¦‚æœä»»åŠ¡æ˜¯"è°ƒç ” Top Lean AI æ¦œå•"
        if 'è°ƒç ”' in task.get('title', ''):
            # å‘ç°æ–°ä»»åŠ¡ï¼šæ•´ç†è°ƒç ”ç»“æœåˆ°ç¬”è®°
            new_tasks.append({
                'title': 'æ•´ç† Top Lean AI è°ƒç ”ç»“æœåˆ°ç¬”è®°',
                'priority': 'high',
                'assignee': 'AI'
            })
        
        return new_tasks
```

---

## æ–¹æ¡ˆä¸‰ï¼šæ··åˆä¼˜åŒ–æ–¹æ¡ˆï¼ˆæ¨èï¼‰

**æ ¸å¿ƒæ€è·¯**ï¼šç»“åˆä»¥ä¸Šæ‰€æœ‰ä¼˜åŒ–æ–¹æ¡ˆï¼Œå½¢æˆä¸€ä¸ªå®Œæ•´çš„æ··åˆä¼˜åŒ–æ–¹æ¡ˆ

### 3.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                              â”‚
â”‚  ç”¨æˆ·æ¶ˆæ¯ â†’ ç”¨æˆ·å¹²é¢„æ£€æµ‹ â†’ ç«‹å³æ¨è¿›ä»»åŠ¡                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  äº‹ä»¶é©±åŠ¨å±‚                               â”‚
â”‚  ç”¨æˆ·æ¶ˆæ¯äº‹ä»¶ â”‚ Git æ›´æ–°äº‹ä»¶ â”‚ æ—¶é—´äº‹ä»¶ â”‚ å¤–éƒ¨äº‹ä»¶         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ™ºèƒ½ä»»åŠ¡ç®¡ç†å±‚                               â”‚
â”‚  ä¼˜å…ˆçº§æ’åº â”‚ ä¾èµ–ç®¡ç† â”‚ å¹¶å‘æ§åˆ¶ â”‚ å¤±è´¥é‡è¯• â”‚ è°ƒåº¦å™¨     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä»»åŠ¡æ‰§è¡Œå±‚                                  â”‚
â”‚  Plan Generator â”‚ Hybrid Executor â”‚ åé¦ˆæœºåˆ¶             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              é—­ç¯è‡ªæˆ‘è¿­ä»£å±‚                              â”‚
â”‚  å‘ç°æ–°ä»»åŠ¡ â†’ æ·»åŠ åˆ°é˜Ÿåˆ— â†’ ç»§ç»­æ‰§è¡Œ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 å…³é”®ç‰¹æ€§

1. **åŒé‡è§¦å‘æœºåˆ¶**ï¼š
   - Heartbeat è§¦å‘ï¼ˆå…œåº•ï¼‰
   - äº‹ä»¶é©±åŠ¨è§¦å‘ï¼ˆä¸»åŠ¨ï¼‰

2. **æ™ºèƒ½ä»»åŠ¡ç®¡ç†**ï¼š
   - å¤šç»´åº¦ä¼˜å…ˆçº§è®¡ç®—
   - ä¾èµ–å…³ç³»ç®¡ç†
   - å¹¶å‘æ§åˆ¶
   - å¤±è´¥é‡è¯•

3. **å®æ—¶åé¦ˆæœºåˆ¶**ï¼š
   - ä»»åŠ¡å¼€å§‹é€šçŸ¥
   - è¿›åº¦æ›´æ–°
   - å®Œæˆé€šçŸ¥
   - å¤±è´¥å¤„ç†

4. **é—­ç¯è‡ªæˆ‘è¿­ä»£**ï¼š
   - è‡ªåŠ¨å‘ç°æ–°ä»»åŠ¡
   - è‡ªåŠ¨æ·»åŠ åˆ°é˜Ÿåˆ—
   - æŒç»­ä¼˜åŒ–æ‰§è¡Œ

### 3.3 å®æ–½è·¯çº¿å›¾

**Phase 1: åŸºç¡€ä¼˜åŒ–ï¼ˆ1-2 å¤©ï¼‰**
- [ ] æé«˜ `MAX_TASKS_BETWEEN_INTERVENTIONS` ä» 2 åˆ° 8
- [ ] å®ç°ç”¨æˆ·å¹²é¢„åç«‹å³æ¨è¿›ä»»åŠ¡
- [ ] å¢åŠ ä»»åŠ¡æ‰§è¡Œåé¦ˆæœºåˆ¶

**Phase 2: æ™ºèƒ½ç®¡ç†ï¼ˆ3-5 å¤©ï¼‰**
- [ ] å®ç°å¤šç»´åº¦ä¼˜å…ˆçº§è®¡ç®—
- [ ] å®ç°æ™ºèƒ½ä»»åŠ¡é˜Ÿåˆ—
- [ ] å®ç°ä¾èµ–å…³ç³»ç®¡ç†

**Phase 3: äº‹ä»¶é©±åŠ¨ï¼ˆ1 å‘¨ï¼‰**
- [ ] å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„
- [ ] æ”¯æŒå¤šç§äº‹ä»¶ç±»å‹
- [ ] å®ç°é—­ç¯è‡ªæˆ‘è¿­ä»£

**Phase 4: ä¼˜åŒ–å®Œå–„ï¼ˆæŒç»­ï¼‰**
- [ ] åŠ¨æ€è°ƒæ•´ heartbeat é—´éš”
- [ ] æ™ºèƒ½å¹¶å‘æ§åˆ¶
- [ ] æŒç»­ä¼˜åŒ–å’Œæ”¹è¿›

---

## æ€»ç»“

### æ¨èæ–¹æ¡ˆ

**æ¨èä½¿ç”¨æ–¹æ¡ˆä¸‰ï¼ˆæ··åˆä¼˜åŒ–æ–¹æ¡ˆï¼‰**ï¼Œå› ä¸ºå®ƒï¼š
1. âœ… ç»“åˆäº†æ‰€æœ‰ä¼˜åŒ–æ–¹æ¡ˆçš„ä¼˜ç‚¹
2. âœ… æ—¢æœ‰ heartbeat ä½œä¸ºå…œåº•ï¼Œåˆæœ‰äº‹ä»¶é©±åŠ¨ä½œä¸ºä¸»åŠ¨æ¨è¿›
3. âœ… æ™ºèƒ½ä»»åŠ¡ç®¡ç†ï¼Œæé«˜æ‰§è¡Œæ•ˆç‡
4. âœ… å®æ—¶åé¦ˆï¼Œæå‡ç”¨æˆ·ä½“éªŒ
5. âœ… é—­ç¯è‡ªæˆ‘è¿­ä»£ï¼ŒæŒç»­ä¼˜åŒ–

### ç«‹å³å¯ä»¥å®æ–½çš„ä¼˜åŒ–

1. âœ… **æé«˜ä»»åŠ¡æ‰§è¡Œæ•°é‡é™åˆ¶**ï¼šä» 2 æé«˜åˆ° 8ï¼ˆå·²åœ¨ HEARTBEAT.md ä¸­é…ç½®ï¼‰
2. âœ… **ç”¨æˆ·å¹²é¢„åç«‹å³æ¨è¿›ä»»åŠ¡**ï¼šä¸éœ€è¦ç­‰å¾… heartbeat
3. âœ… **å¢åŠ ä»»åŠ¡æ‰§è¡Œåé¦ˆæœºåˆ¶**ï¼šè®©ç”¨æˆ·çŸ¥é“ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€

### åç»­ä¼˜åŒ–æ–¹å‘

1. ğŸ“‹ å®ç°å¤šç»´åº¦ä¼˜å…ˆçº§è®¡ç®—
2. ğŸ“‹ å®ç°æ™ºèƒ½ä»»åŠ¡é˜Ÿåˆ—
3. ğŸ“‹ å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„
4. ğŸ“‹ å®ç°é—­ç¯è‡ªæˆ‘è¿­ä»£

---

**æ–¹æ¡ˆå®Œæˆæ—¶é—´**: 2026-02-19  
**åç»­**: å¼€å§‹å®æ–½ Phase 1 çš„ä¼˜åŒ–
